<?php
	define("LAYOUT", "sub");
	define("DOC_TITLE", "코드관리 목록");
?>
<?php require_once $_SERVER["DOCUMENT_ROOT"] . "/site/admin/inc/layout_top.php"; ?>
<?php require_once $_SERVER['DOCUMENT_ROOT'] . "/site/class/service/CodeService.php"; ?>
<?php
	$req_param = Request::getParameters();
	DevUtil::consoleLog($req_param);
	
	$dataListCode = CodeService::getListCode($req_param);
?>
	<table class="tbl1 th_center td_center">
		<tr>
			<!--js: btn_all_check-->
			<td class="th"><input class="btn_all_check" type="checkbox" title="전체항목선택"></td>
			<td class="th">code_name</td>
			<td class="th">code</td>
			<td class="th">code_ref</td>
		</tr>
		<?php if ($dataListCode->num_rows) { ?>
			<?php while ($data = $dataListCode->fetch_assoc()) { ?>
				<tr>
					<td><input class="btn_check" type="checkbox" title="항목선택"></td>
					<td>
						<a href="code_list.html?code_ref=<?= $data["code"] ?>">
							<?= $data["code_name"] ?>
						</a>
					</td>
					<td class="align_center"><?= $data["code"] ?></td>
					<td class="align_center"><?= $data["code_ref"] ?></td>
				</tr>
			<? } ?>
		<? } else { ?>
			<tr>
				<td colspan="10" class="align_center">
					데이터가 존재하지 않습니다.
				</td>
			</tr>
		<? } ?>
	</table>

	<div class="btn_area1">
		<a href="code_write.html?work_flag=write&code_ref=<?=$req_param["code_ref"]?>">등록</a>
		<a class="btn_error" href="code_write.html">삭제</a>
	</div>
<?php require_once $_SERVER["DOCUMENT_ROOT"] . "/site/inc/comm_js.php"; ?>
	<script>
		UI.checkAll(".btn_all_check", ".btn_check");
	</script>
<?php require_once $_SERVER["DOCUMENT_ROOT"] . "/site/admin/inc/layout_btm.php"; ?>